<div>
    <app-sidebar></app-sidebar>
    <div class="right-panel">
        <div class="common-padding-divider"></div>
        <div class="page-header">
            <h2 class="page-title">Executive</h2>
        </div>
        <div class="common-padding-divider"></div>
        <div class="page-body">
            <div class="row">
                <div class="col-md-12">
                    <table class="table table-stripped">
                        <thead>
                            <tr>
                                <th>Name</th>
                                <th>Contact</th>
                                <th>Address</th>
                                <th>Designation</th>
                                <th>Status</th>
                                <th>Action</th>
                            </tr>
                        </thead>
                        <tbody>
                            <ng-container *ngFor="let executive of this._executiveService.Executives">
                                <tr>
                                    <td>{{executive.exe_name}}</td>
                                    <td>{{executive.exe_phone}}</td>
                                    <td>{{executive.exe_address}}</td>
                                    <td>{{executive.exe_designation}}</td>
                                    <td>{{executive.exe_status}}</td>
                                    <td>
                                        <div class="manipulation-icons">
                                            <span (click)="onEdit(executive, updateExecutive )" class="mr-4"><i class="fa fa-pencil"></i></span>
                                            <span (click)="onDelete(executive._id)"><i class="fa fa-trash"></i></span>
                                        </div>
                                    </td>
                                </tr>
                            </ng-container>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
        <div class="common-padding-divider"></div>
    </div>

    <!--modal-->
    <ng-template #updateExecutive let-modal>
        <div class="modal-header">
            <h5 class="modal-title">Update Executive</h5>
            <button type="button" class="btn btn-close" aria-label="Close" (click)="modal.dismiss('Cross click')">
                <i class="fa fa-times color-white"></i>
            </button>
        </div>
        <div class="modal-body">
            <form action="" #updateExecutiveForm="ngForm" (ngSubmit)="onSubmit(updateExecutiveForm)" *ngIf="!disableForm">
                <input type="hidden" name="_id" class="form-control" #_id="ngModel" [(ngModel)]="this._executiveService.selectedExecutive._id"/>
                <div class="row">
                    <div class="col-md-6">
                        <div class="form-group">
                            <label for="">Name</label>
                            <input type="text" name="exe_name" class="form-control" #exe_name="ngModel" [(ngModel)]="this._executiveService.selectedExecutive.exe_name">
                        </div>
                    </div>
                    <div class="col-md-6">
                        <div class="form-group">
                            <label for="">Contact</label>
                            <input type="text" name="exe_phone" class="form-control" #exe_phone="ngModel" [(ngModel)]="this._executiveService.selectedExecutive.exe_phone">
                        </div>
                    </div>
                    <div class="col-md-6">
                        <div class="form-group">
                            <label for="">Address</label>
                            <input type="text" name="exe_address" class="form-control" #exe_address="ngModel" [(ngModel)]="this._executiveService.selectedExecutive.exe_address">
                        </div>
                    </div>
                    <div class="col-md-6">
                        <div class="form-group">
                            <label for="">Designation</label>
                            <select class="form-control" name="exe_designation" #exe_designation="ngModel" [(ngModel)]="this._executiveService.selectedExecutive.exe_designation">
                                <option *ngFor="let designation of this._executiveService.executiveDesignation" [ngValue]="designation.key">{{designation.value}}</option>
                            </select>
                        </div>
                    </div>
                    <div class="col-md-6">
                        <div class="form-group">
                            <label for="">Status</label>
                            <select class="form-control" name="exe_status" #exe_status="ngModel" [(ngModel)]="this._executiveService.selectedExecutive.exe_status">
                                <option *ngFor="let status of this._executiveService.executiveStatus" [ngValue]="status.key">{{status.value}}</option>
                            </select>
                        </div>
                    </div>
                </div>   
                <div class="text-right">
                    <button type="submit" class="btn btn-primary">Save changes</button>
                </div>         
            </form>
        </div>
    </ng-template>
    <!--modal end-->
</div>
